<?xml version="1.0" encoding="UTF-8"?>

<launch>
    <arg name="visualize" default="false" />
    <arg name="publish_point_cloud" default="false" />

    <!-- MAP GPS LOCATION TO LOCAL -->
    <include file="$(find visiondrone)/launch/processing/gps_to_local.launch"/>

    <!-- Drone TFs -->
    <include file="$(find visiondrone)/launch/processing/tf.launch"/>

    <!-- ORB_SLAM3 -->
    <node name="Mono" pkg="orb_slam3" type="ORBSLAM3" output="screen">
        <param name="topic_imu" value="/camera/imu"/>
        <param name="topic_img" value="/camera/infra1/image_rect_raw"/>
        <param name="path_to_vocabulary" value="$(dirname)/../../../../non_ros/orb_slam3/Vocabulary/ORBvoc.txt"/>
        <param name="path_to_settings" value="$(find orb_slam3)/orb_slam3.yaml"/>
        <param name="visualize" value="$(arg visualize)"/>
        <param name="publish_point_cloud" value="$(arg publish_point_cloud)"/>
    </node>
</launch>
